# ✅ 部署检查清单

在部署之前，请确保完成以下所有项目。

---

## 📦 准备阶段

### 代码准备
- [ ] 所有功能已测试通过
- [ ] 代码已提交到本地 Git
- [ ] 移除所有 console.log（可选）
- [ ] 更新 README.md 文档

### GitHub 仓库
- [ ] 在 GitHub 创建新仓库
- [ ] 设置仓库为 Public 或 Private
- [ ] 推送代码到 GitHub
- [ ] 确认所有文件已上传

### 环境变量
- [ ] 复制 `.env.example` 为 `.env`
- [ ] 更新所有环境变量
- [ ] `.env` 已添加到 `.gitignore`
- [ ] 不要将 `.env` 推送到 GitHub

---

## 🗄️ 数据库设置

### MongoDB Atlas（推荐）
- [ ] 注册 MongoDB Atlas 账号
- [ ] 创建免费集群（M0）
- [ ] 创建数据库用户
  - [ ] 用户名: _______________
  - [ ] 密码: _______________
- [ ] 配置网络访问
  - [ ] 添加 IP 地址：`0.0.0.0/0`
- [ ] 获取连接字符串
  - [ ] 复制连接字符串
  - [ ] 替换 `<username>` 和 `<password>`
  - [ ] 保存到安全的地方

### 或使用远程服务器
- [ ] 开放防火墙端口 27017
- [ ] 配置 MongoDB 允许远程连接
- [ ] 创建数据库用户
- [ ] 测试连接

---

## 🔧 后端部署（Render）

### 账号设置
- [ ] 注册 Render 账号
- [ ] 连接 GitHub 账号
- [ ] 验证邮箱

### 创建 Web Service
- [ ] 选择 GitHub 仓库
- [ ] 配置服务名称：_______________
- [ ] 设置 Root Directory: `backend`
- [ ] 选择 Environment: `Node`
- [ ] 选择 Region: _______________

### 构建配置
- [ ] Build Command: `npm install`
- [ ] Start Command: `npm start`
- [ ] Auto-Deploy: `Yes`

### 环境变量
- [ ] `NODE_ENV=production`
- [ ] `PORT=10000`
- [ ] `MONGO_URI=<你的MongoDB连接字符串>`
- [ ] `JWT_SECRET=<64位随机字符串>`

### 部署和测试
- [ ] 点击 "Create Web Service"
- [ ] 等待构建完成
- [ ] 查看部署日志
- [ ] 记录后端 URL：_______________
- [ ] 测试根路由返回欢迎消息
- [ ] 测试 API 端点

---

## 🎨 前端部署（Vercel）

### 账号设置
- [ ] 注册 Vercel 账号
- [ ] 连接 GitHub 账号
- [ ] 验证邮箱

### 导入项目
- [ ] 选择 GitHub 仓库
- [ ] 配置项目名称：_______________
- [ ] 设置 Root Directory: `frontend`

### 构建配置
- [ ] Framework Preset: `Vite`
- [ ] Build Command: `npm run build`
- [ ] Output Directory: `dist`
- [ ] Install Command: `npm install`

### 环境变量
- [ ] `VITE_API_URL=<你的Render后端URL>/api`
  - 示例: `https://portfolio-blog-api.onrender.com/api`

### 部署和测试
- [ ] 点击 "Deploy"
- [ ] 等待构建完成
- [ ] 记录前端 URL：_______________
- [ ] 访问网站首页
- [ ] 测试所有页面链接

---

## 🔐 安全检查

### JWT Secret
- [ ] 生成强随机密钥（64位）
  ```bash
  node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
  ```
- [ ] 在 Render 更新 JWT_SECRET
- [ ] 不要使用默认值

### 数据库安全
- [ ] MongoDB 用户使用强密码
- [ ] 配置 IP 白名单
- [ ] 不要在代码中硬编码密码
- [ ] 定期备份数据库

### CORS 配置
- [ ] 后端允许前端域名访问
- [ ] 在生产环境限制 CORS 来源
- [ ] 测试跨域请求

---

## 🧪 功能测试

### 用户认证
- [ ] 可以注册新账号
- [ ] 可以登录
- [ ] Token 正常工作
- [ ] 可以登出

### 项目管理
- [ ] 可以查看项目列表
- [ ] 可以创建新项目
- [ ] 可以编辑项目
- [ ] 可以删除项目

### 博客系统
- [ ] 可以查看博客列表
- [ ] 可以查看单篇博客
- [ ] 可以创建博客文章
- [ ] 可以编辑博客文章
- [ ] 可以删除博客文章

### 评论功能
- [ ] 可以查看评论
- [ ] 可以发表评论
- [ ] 评论显示正确的作者信息

### 联系表单
- [ ] 可以提交联系表单
- [ ] 消息保存到数据库
- [ ] 管理员可以查看消息

### Admin Dashboard
- [ ] 可以访问后台
- [ ] 未登录自动跳转到登录页
- [ ] 可以管理项目
- [ ] 可以管理博客
- [ ] 可以查看消息

---

## 📱 响应式测试

### 桌面浏览器
- [ ] Chrome
- [ ] Firefox
- [ ] Safari
- [ ] Edge

### 移动设备
- [ ] iPhone（Safari）
- [ ] Android（Chrome）
- [ ] 平板（iPad）

### 屏幕尺寸
- [ ] 手机（<768px）
- [ ] 平板（768px-1024px）
- [ ] 桌面（>1024px）

---

## 🔍 性能检查

### Lighthouse 测试
- [ ] Performance: > 80
- [ ] Accessibility: > 90
- [ ] Best Practices: > 80
- [ ] SEO: > 80

### 加载时间
- [ ] 首页加载 < 3秒
- [ ] API 响应 < 1秒
- [ ] 图片优化

---

## 📝 文档更新

### README.md
- [ ] 添加部署后的 URL
- [ ] 更新截图（如有）
- [ ] 添加功能说明
- [ ] 更新技术栈信息

### ACCOUNTS.md
- [ ] 更新测试账号信息
- [ ] 说明如何重置密码

### 项目文档
- [ ] API 文档完整
- [ ] 部署流程文档
- [ ] 故障排除指南

---

## 🎯 上线后任务

### 第一天
- [ ] 监控部署日志
- [ ] 检查数据库连接
- [ ] 创建第一个管理员账号
- [ ] 添加测试数据
- [ ] 分享给朋友测试

### 第一周
- [ ] 收集用户反馈
- [ ] 修复发现的 Bug
- [ ] 优化性能
- [ ] 添加 Google Analytics（可选）

### 长期
- [ ] 定期备份数据库
- [ ] 监控服务器状态
- [ ] 更新依赖包
- [ ] 添加新功能

---

## 📞 联系方式

### 支持文档
- [ ] DEPLOYMENT.md - 完整部署指南
- [ ] DEPLOY_QUICK.md - 快速部署指南
- [ ] MONGODB_REMOTE_SETUP.md - 数据库配置

### 在线资源
- Vercel 文档: https://vercel.com/docs
- Render 文档: https://render.com/docs
- MongoDB Atlas: https://docs.atlas.mongodb.com

---

## ✅ 最终确认

- [ ] 所有检查项已完成
- [ ] 前端可以访问
- [ ] 后端 API 正常工作
- [ ] 数据库连接成功
- [ ] 所有功能测试通过
- [ ] 文档已更新
- [ ] 准备好上线！

---

## 🎉 部署信息记录

**完成日期**: _______________

**URL 信息**:
- 前端: _______________
- 后端: _______________
- 数据库: _______________

**账号信息** (保密):
- 管理员邮箱: _______________
- 初始密码: _______________

**备注**:
_______________
_______________
_______________

---

**祝贺你完成部署！** 🚀

现在你的应用已经在互联网上运行了！
